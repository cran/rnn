<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

<meta name="viewport" content="width=device-width, initial-scale=1" />

<meta name="author" content="Bastiaan Quast" />

<meta name="date" content="2022-01-10" />

<title>Recurrent Neural Network</title>

<script src="data:application/javascript;base64,Ly8gUGFuZG9jIDIuOSBhZGRzIGF0dHJpYnV0ZXMgb24gYm90aCBoZWFkZXIgYW5kIGRpdi4gV2UgcmVtb3ZlIHRoZSBmb3JtZXIgKHRvCi8vIGJlIGNvbXBhdGlibGUgd2l0aCB0aGUgYmVoYXZpb3Igb2YgUGFuZG9jIDwgMi44KS4KZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIGZ1bmN0aW9uKGUpIHsKICB2YXIgaHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJkaXYuc2VjdGlvbltjbGFzcyo9J2xldmVsJ10gPiA6Zmlyc3QtY2hpbGQiKTsKICB2YXIgaSwgaCwgYTsKICBmb3IgKGkgPSAwOyBpIDwgaHMubGVuZ3RoOyBpKyspIHsKICAgIGggPSBoc1tpXTsKICAgIGlmICghL15oWzEtNl0kL2kudGVzdChoLnRhZ05hbWUpKSBjb250aW51ZTsgIC8vIGl0IHNob3VsZCBiZSBhIGhlYWRlciBoMS1oNgogICAgYSA9IGguYXR0cmlidXRlczsKICAgIHdoaWxlIChhLmxlbmd0aCA+IDApIGgucmVtb3ZlQXR0cmlidXRlKGFbMF0ubmFtZSk7CiAgfQp9KTsK"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>




<link rel="stylesheet" href="data:text/css,body%20%7B%0Abackground%2Dcolor%3A%20%23fff%3B%0Amargin%3A%201em%20auto%3B%0Amax%2Dwidth%3A%20700px%3B%0Aoverflow%3A%20visible%3B%0Apadding%2Dleft%3A%202em%3B%0Apadding%2Dright%3A%202em%3B%0Afont%2Dfamily%3A%20%22Open%20Sans%22%2C%20%22Helvetica%20Neue%22%2C%20Helvetica%2C%20Arial%2C%20sans%2Dserif%3B%0Afont%2Dsize%3A%2014px%3B%0Aline%2Dheight%3A%201%2E35%3B%0A%7D%0A%23TOC%20%7B%0Aclear%3A%20both%3B%0Amargin%3A%200%200%2010px%2010px%3B%0Apadding%3A%204px%3B%0Awidth%3A%20400px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Aborder%2Dradius%3A%205px%3B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Afont%2Dsize%3A%2013px%3B%0Aline%2Dheight%3A%201%2E3%3B%0A%7D%0A%23TOC%20%2Etoctitle%20%7B%0Afont%2Dweight%3A%20bold%3B%0Afont%2Dsize%3A%2015px%3B%0Amargin%2Dleft%3A%205px%3B%0A%7D%0A%23TOC%20ul%20%7B%0Apadding%2Dleft%3A%2040px%3B%0Amargin%2Dleft%3A%20%2D1%2E5em%3B%0Amargin%2Dtop%3A%205px%3B%0Amargin%2Dbottom%3A%205px%3B%0A%7D%0A%23TOC%20ul%20ul%20%7B%0Amargin%2Dleft%3A%20%2D2em%3B%0A%7D%0A%23TOC%20li%20%7B%0Aline%2Dheight%3A%2016px%3B%0A%7D%0Atable%20%7B%0Amargin%3A%201em%20auto%3B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dcolor%3A%20%23DDDDDD%3B%0Aborder%2Dstyle%3A%20outset%3B%0Aborder%2Dcollapse%3A%20collapse%3B%0A%7D%0Atable%20th%20%7B%0Aborder%2Dwidth%3A%202px%3B%0Apadding%3A%205px%3B%0Aborder%2Dstyle%3A%20inset%3B%0A%7D%0Atable%20td%20%7B%0Aborder%2Dwidth%3A%201px%3B%0Aborder%2Dstyle%3A%20inset%3B%0Aline%2Dheight%3A%2018px%3B%0Apadding%3A%205px%205px%3B%0A%7D%0Atable%2C%20table%20th%2C%20table%20td%20%7B%0Aborder%2Dleft%2Dstyle%3A%20none%3B%0Aborder%2Dright%2Dstyle%3A%20none%3B%0A%7D%0Atable%20thead%2C%20table%20tr%2Eeven%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Ap%20%7B%0Amargin%3A%200%2E5em%200%3B%0A%7D%0Ablockquote%20%7B%0Abackground%2Dcolor%3A%20%23f6f6f6%3B%0Apadding%3A%200%2E25em%200%2E75em%3B%0A%7D%0Ahr%20%7B%0Aborder%2Dstyle%3A%20solid%3B%0Aborder%3A%20none%3B%0Aborder%2Dtop%3A%201px%20solid%20%23777%3B%0Amargin%3A%2028px%200%3B%0A%7D%0Adl%20%7B%0Amargin%2Dleft%3A%200%3B%0A%7D%0Adl%20dd%20%7B%0Amargin%2Dbottom%3A%2013px%3B%0Amargin%2Dleft%3A%2013px%3B%0A%7D%0Adl%20dt%20%7B%0Afont%2Dweight%3A%20bold%3B%0A%7D%0Aul%20%7B%0Amargin%2Dtop%3A%200%3B%0A%7D%0Aul%20li%20%7B%0Alist%2Dstyle%3A%20circle%20outside%3B%0A%7D%0Aul%20ul%20%7B%0Amargin%2Dbottom%3A%200%3B%0A%7D%0Apre%2C%20code%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0Aborder%2Dradius%3A%203px%3B%0Acolor%3A%20%23333%3B%0Awhite%2Dspace%3A%20pre%2Dwrap%3B%20%0A%7D%0Apre%20%7B%0Aborder%2Dradius%3A%203px%3B%0Amargin%3A%205px%200px%2010px%200px%3B%0Apadding%3A%2010px%3B%0A%7D%0Apre%3Anot%28%5Bclass%5D%29%20%7B%0Abackground%2Dcolor%3A%20%23f7f7f7%3B%0A%7D%0Acode%20%7B%0Afont%2Dfamily%3A%20Consolas%2C%20Monaco%2C%20%27Courier%20New%27%2C%20monospace%3B%0Afont%2Dsize%3A%2085%25%3B%0A%7D%0Ap%20%3E%20code%2C%20li%20%3E%20code%20%7B%0Apadding%3A%202px%200px%3B%0A%7D%0Adiv%2Efigure%20%7B%0Atext%2Dalign%3A%20center%3B%0A%7D%0Aimg%20%7B%0Abackground%2Dcolor%3A%20%23FFFFFF%3B%0Apadding%3A%202px%3B%0Aborder%3A%201px%20solid%20%23DDDDDD%3B%0Aborder%2Dradius%3A%203px%3B%0Aborder%3A%201px%20solid%20%23CCCCCC%3B%0Amargin%3A%200%205px%3B%0A%7D%0Ah1%20%7B%0Amargin%2Dtop%3A%200%3B%0Afont%2Dsize%3A%2035px%3B%0Aline%2Dheight%3A%2040px%3B%0A%7D%0Ah2%20%7B%0Aborder%2Dbottom%3A%204px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Apadding%2Dbottom%3A%202px%3B%0Afont%2Dsize%3A%20145%25%3B%0A%7D%0Ah3%20%7B%0Aborder%2Dbottom%3A%202px%20solid%20%23f7f7f7%3B%0Apadding%2Dtop%3A%2010px%3B%0Afont%2Dsize%3A%20120%25%3B%0A%7D%0Ah4%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23f7f7f7%3B%0Amargin%2Dleft%3A%208px%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Ah5%2C%20h6%20%7B%0Aborder%2Dbottom%3A%201px%20solid%20%23ccc%3B%0Afont%2Dsize%3A%20105%25%3B%0A%7D%0Aa%20%7B%0Acolor%3A%20%230033dd%3B%0Atext%2Ddecoration%3A%20none%3B%0A%7D%0Aa%3Ahover%20%7B%0Acolor%3A%20%236666ff%3B%20%7D%0Aa%3Avisited%20%7B%0Acolor%3A%20%23800080%3B%20%7D%0Aa%3Avisited%3Ahover%20%7B%0Acolor%3A%20%23BB00BB%3B%20%7D%0Aa%5Bhref%5E%3D%22http%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0Aa%5Bhref%5E%3D%22https%3A%22%5D%20%7B%0Atext%2Ddecoration%3A%20underline%3B%20%7D%0A%0Acode%20%3E%20span%2Ekw%20%7B%20color%3A%20%23555%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Edt%20%7B%20color%3A%20%23902000%3B%20%7D%20%0Acode%20%3E%20span%2Edv%20%7B%20color%3A%20%2340a070%3B%20%7D%20%0Acode%20%3E%20span%2Ebn%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Efl%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Ech%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Est%20%7B%20color%3A%20%23d14%3B%20%7D%20%0Acode%20%3E%20span%2Eco%20%7B%20color%3A%20%23888888%3B%20font%2Dstyle%3A%20italic%3B%20%7D%20%0Acode%20%3E%20span%2Eot%20%7B%20color%3A%20%23007020%3B%20%7D%20%0Acode%20%3E%20span%2Eal%20%7B%20color%3A%20%23ff0000%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Efu%20%7B%20color%3A%20%23900%3B%20font%2Dweight%3A%20bold%3B%20%7D%20%0Acode%20%3E%20span%2Eer%20%7B%20color%3A%20%23a61717%3B%20background%2Dcolor%3A%20%23e3d2d2%3B%20%7D%20%0A" type="text/css" />




</head>

<body>




<h1 class="title toc-ignore">Recurrent Neural Network</h1>
<h4 class="author">Bastiaan Quast</h4>
<h4 class="date">2022-01-10</h4>



<div id="package" class="section level1">
<h1>Package</h1>
<p>This package includes an example Recurrent Neural Network. The package is loaded using:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(rnn)</span></code></pre></div>
<pre><code>## 
## Attaching package: &#39;rnn&#39;</code></pre>
<pre><code>## The following object is masked _by_ &#39;.GlobalEnv&#39;:
## 
##     int2bin</code></pre>
</div>
<div id="code" class="section level1">
<h1>Code</h1>
<p>We can view the code of the main <code>rnn()</code> function by calling it without the parathesis (not printed here).</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>trainr</span></code></pre></div>
<p>As can be seen from the above, the model relies on two other functions that are available through the <code>sigmoid</code> package.</p>
<p>The first function is <code>logistic()</code>, which converts an integer to its sigmoid value.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>(a <span class="ot">&lt;-</span> sigmoid<span class="sc">::</span><span class="fu">logistic</span>(<span class="dv">3</span>))</span></code></pre></div>
<pre><code>## [1] 0.9525741</code></pre>
<p>The code for the <code>sigmoid()</code> function is:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>sigmoid<span class="sc">::</span>logistic</span></code></pre></div>
<pre><code>## function (x, k = 1, x0 = 0) 
## 1/(1 + exp(-k * (x - x0)))
## &lt;bytecode: 0x5621c15a7790&gt;
## &lt;environment: namespace:sigmoid&gt;</code></pre>
<p>The second function converts the sigmoid value of a number to its derivative.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>sigmoid<span class="sc">::</span><span class="fu">sigmoid_output_to_derivative</span>(a) <span class="co"># a was created above using sigmoid()</span></span></code></pre></div>
<pre><code>## [1] 0.04517666</code></pre>
<p>Finally, we can inspect this code using:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>sigmoid<span class="sc">::</span>sigmoid_output_to_derivative</span></code></pre></div>
<pre><code>## function (x) 
## x * (1 - x)
## &lt;bytecode: 0x5621c0b6a2f8&gt;
## &lt;environment: namespace:sigmoid&gt;</code></pre>
</div>
<div id="application" class="section level1">
<h1>Application</h1>
<p>An example is included in the help file.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">help</span>(<span class="st">&#39;trainr&#39;</span>)</span></code></pre></div>
<p>Below is a basic function that converts integers to binary format (read left to right)</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># basic conversion</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>i2b <span class="ot">&lt;-</span> <span class="cf">function</span>(integer, <span class="at">length=</span><span class="dv">8</span>)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">as.numeric</span>(<span class="fu">intToBits</span>(integer))[<span class="dv">1</span><span class="sc">:</span>length]</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a><span class="co"># apply to entire vectors</span></span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>int2bin <span class="ot">&lt;-</span> <span class="cf">function</span>(integer, <span class="at">length=</span><span class="dv">8</span>)</span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">t</span>(<span class="fu">sapply</span>(integer, i2b, <span class="at">length=</span>length))</span></code></pre></div>
<p>First we generate the data:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create sample inputs</span></span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>X1 <span class="ot">=</span> <span class="fu">sample</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">127</span>, <span class="dv">5000</span>, <span class="at">replace=</span><span class="cn">TRUE</span>)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>X2 <span class="ot">=</span> <span class="fu">sample</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">127</span>, <span class="dv">5000</span>, <span class="at">replace=</span><span class="cn">TRUE</span>)</span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="co"># create sample output</span></span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a>Y <span class="ot">&lt;-</span> X1 <span class="sc">+</span> X2</span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="co"># convert to binary</span></span>
<span id="cb15-9"><a href="#cb15-9" aria-hidden="true" tabindex="-1"></a>X1 <span class="ot">&lt;-</span> <span class="fu">int2bin</span>(X1)</span>
<span id="cb15-10"><a href="#cb15-10" aria-hidden="true" tabindex="-1"></a>X2 <span class="ot">&lt;-</span> <span class="fu">int2bin</span>(X2)</span>
<span id="cb15-11"><a href="#cb15-11" aria-hidden="true" tabindex="-1"></a>Y  <span class="ot">&lt;-</span> <span class="fu">int2bin</span>(Y)</span>
<span id="cb15-12"><a href="#cb15-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-13"><a href="#cb15-13" aria-hidden="true" tabindex="-1"></a><span class="co"># Create 3d array: dim 1: samples; dim 2: time; dim 3: variables.</span></span>
<span id="cb15-14"><a href="#cb15-14" aria-hidden="true" tabindex="-1"></a>X <span class="ot">&lt;-</span> <span class="fu">array</span>( <span class="fu">c</span>(X1,X2), <span class="at">dim=</span><span class="fu">c</span>(<span class="fu">dim</span>(X1),<span class="dv">2</span>) )</span>
<span id="cb15-15"><a href="#cb15-15" aria-hidden="true" tabindex="-1"></a>Y <span class="ot">&lt;-</span> <span class="fu">array</span>( Y, <span class="at">dim=</span><span class="fu">c</span>(<span class="fu">dim</span>(Y),<span class="dv">1</span>) ) </span></code></pre></div>
<p>This example is:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># train the model</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>model <span class="ot">&lt;-</span> <span class="fu">trainr</span>(<span class="at">Y=</span>Y[,<span class="fu">dim</span>(Y)[<span class="dv">2</span>]<span class="sc">:</span><span class="dv">1</span>,,<span class="at">drop=</span>F], <span class="co"># we inverse the time dimension</span></span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>                <span class="at">X=</span>X[,<span class="fu">dim</span>(X)[<span class="dv">2</span>]<span class="sc">:</span><span class="dv">1</span>,,<span class="at">drop=</span>F], <span class="co"># we inverse the time dimension</span></span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>                <span class="at">learningrate   =</span>  <span class="fl">0.1</span>,</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>                <span class="at">hidden_dim     =</span> <span class="dv">10</span>,</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>                <span class="at">batch_size =</span> <span class="dv">100</span>,</span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>                <span class="at">numepochs =</span> <span class="dv">10</span>)</span></code></pre></div>
<pre><code>## Trained epoch: 1 - Learning rate: 0.1</code></pre>
<pre><code>## Epoch error: 3.98527823366268</code></pre>
<pre><code>## Trained epoch: 2 - Learning rate: 0.1</code></pre>
<pre><code>## Epoch error: 3.82828545693186</code></pre>
<pre><code>## Trained epoch: 3 - Learning rate: 0.1</code></pre>
<pre><code>## Epoch error: 3.68146193369415</code></pre>
<pre><code>## Trained epoch: 4 - Learning rate: 0.1</code></pre>
<pre><code>## Epoch error: 3.63171020757647</code></pre>
<pre><code>## Trained epoch: 5 - Learning rate: 0.1</code></pre>
<pre><code>## Epoch error: 3.59748872911763</code></pre>
<pre><code>## Trained epoch: 6 - Learning rate: 0.1</code></pre>
<pre><code>## Epoch error: 3.57626260431363</code></pre>
<pre><code>## Trained epoch: 7 - Learning rate: 0.1</code></pre>
<pre><code>## Epoch error: 3.5536904170962</code></pre>
<pre><code>## Trained epoch: 8 - Learning rate: 0.1</code></pre>
<pre><code>## Epoch error: 3.54621629606432</code></pre>
<pre><code>## Trained epoch: 9 - Learning rate: 0.1</code></pre>
<pre><code>## Epoch error: 3.54629461955764</code></pre>
<pre><code>## Trained epoch: 10 - Learning rate: 0.1</code></pre>
<pre><code>## Epoch error: 3.53015967476188</code></pre>
<p>See the evolution of the error over different epochs:</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">colMeans</span>(model<span class="sc">$</span>error),<span class="at">type=</span><span class="st">&#39;l&#39;</span>,</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>     <span class="at">xlab=</span><span class="st">&#39;epoch&#39;</span>,</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>     <span class="at">ylab=</span><span class="st">&#39;errors&#39;</span>                  )</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
<p>Now create testing data</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create test inputs</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>A1 <span class="ot">=</span> <span class="fu">int2bin</span>( <span class="fu">sample</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">127</span>, <span class="dv">7000</span>, <span class="at">replace=</span><span class="cn">TRUE</span>) )</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>A2 <span class="ot">=</span> <span class="fu">int2bin</span>( <span class="fu">sample</span>(<span class="dv">0</span><span class="sc">:</span><span class="dv">127</span>, <span class="dv">7000</span>, <span class="at">replace=</span><span class="cn">TRUE</span>) )</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a><span class="co"># create 3d array: dim 1: samples; dim 2: time; dim 3: variables</span></span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a>A <span class="ot">&lt;-</span> <span class="fu">array</span>( <span class="fu">c</span>(A1,A2), <span class="at">dim=</span><span class="fu">c</span>(<span class="fu">dim</span>(A1),<span class="dv">2</span>) )</span></code></pre></div>
<p>Predict based on testing data.</p>
<div class="sourceCode" id="cb39"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># predict</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>B  <span class="ot">&lt;-</span> <span class="fu">predictr</span>(model,</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>               A[,<span class="fu">dim</span>(A)[<span class="dv">2</span>]<span class="sc">:</span><span class="dv">1</span>,,<span class="at">drop=</span>F]</span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>               )</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>B <span class="ot">=</span> B[,<span class="fu">dim</span>(B)[<span class="dv">2</span>]<span class="sc">:</span><span class="dv">1</span>]</span></code></pre></div>
<p>Define basic functions to convert binary to integer</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>b2i <span class="ot">&lt;-</span> <span class="cf">function</span>(binary)</span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">packBits</span>(<span class="fu">as.raw</span>(<span class="fu">c</span>(binary, <span class="fu">rep</span>(<span class="dv">0</span>, <span class="dv">32</span><span class="sc">-</span><span class="fu">length</span>(binary) ))), <span class="st">&#39;integer&#39;</span>)</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>bin2int <span class="ot">&lt;-</span> <span class="cf">function</span>(binary){</span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>  binary <span class="ot">&lt;-</span> <span class="fu">round</span>(binary)</span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>  length <span class="ot">&lt;-</span> <span class="fu">dim</span>(binary)[<span class="dv">2</span>]    <span class="co"># determine length of binary representation</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">apply</span>(binary, <span class="dv">1</span>, b2i)     } <span class="co"># apply to full matrix</span></span></code></pre></div>
<p>Test prediction against true values</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># convert back to integers</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>A1 <span class="ot">&lt;-</span> <span class="fu">bin2int</span>(A1)</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>A2 <span class="ot">&lt;-</span> <span class="fu">bin2int</span>(A2)</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>B  <span class="ot">&lt;-</span> <span class="fu">bin2int</span>(B)</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a><span class="co"># plot the difference</span></span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a><span class="fu">hist</span>( B<span class="sc">-</span>(A1<span class="sc">+</span>A2) )</span></code></pre></div>
<p><img src="data:image/png;base64,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" /><!-- --></p>
</div>



<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
